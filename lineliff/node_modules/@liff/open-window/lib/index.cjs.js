"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("tslib"),i=require("@liff/consts"),r=require("@liff/util"),n=require("@liff/is-in-client"),o=require("@liff/get-os"),t=require("@liff/get-line-version"),f=require("@liff/native-bridge");exports.openWindow=function(l){if(!function(i){if(!i||"object"!=typeof i)return!1;var r=i,n=r.url,o=r.external,t=e.__read([typeof n,typeof o],2),f=t[0],l=t[1];return"string"===f&&""!==n&&("undefined"===l||"boolean"===l)}(l))throw r.createLiffError(i.INVALID_ARGUMENT,"Invalid parameters for liff.openWindow()");var s=t.getLineVersion();if(n.isInClient())if(null!==s&&"ios"===o.getOS()&&r.compareVersion(s,"9.19")>=0||!window._liff.postMessage){var a=l.url,u=l.external,d=void 0!==u&&u;window.open(function(i,r){var n=e.__read(i.split("?"),2),o=n[0],t=n[1],f=void 0===t?"":t,l=e.__read(f.split("#"),2),s=l[0],a=l[1];return o+"?is_liff_external_open_window="+!!r+(s?"&"+s.split("&").filter((function(e){return-1===e.indexOf("is_liff_external_open_window")})).join("&").concat(a?"#"+a:""):"")}(a,d))}else f.call("openWindow",l);else window.open(l.url,"_blank")};
